<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EcoQuest</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header>
    <h1>EcoQuest 🌎</h1>
    <p>Join the Quest to Clean San Jose!</p>
    <p id="greeting"></p>
  </header>

  <div id="main-buttons">
    <button onclick="showUpload()">🧹 Report a Cleanup</button>
    <button onclick="showLeaderboard()">🏆 View Leaderboard</button>
    <button onclick="showBadges()">🎖️ View Badges</button>
    <button onclick="showMyReports()">📋 My Reports</button>
  </div>

  <div id="main-content">
    <div id="map" class="card"></div>

    <div id="upload-section" class="card hidden">
      <h3>Upload Cleanup Photo 📷</h3>
      <input type="file" id="photoInput" accept="image/*"><br><br>

      <label for="descriptionInput">Description:</label><br>
      <textarea id="descriptionInput" rows="3" cols="30" placeholder="Describe the issue..."></textarea><br><br>

      <button onclick="submitReport()">Submit Report</button>
    </div>

    <div id="leaderboard" class="card hidden">
      <h3>Leaderboard 🏆</h3>
      <ul id="leaderboardList">
        <li>Loading...</li>
      </ul>
    </div>

    <div id="badges" class="card hidden">
      <h3>Your Badges 🎖️</h3>
      <div id="badgeCards" class="badge-container"></div>
    </div>

    <div id="my-reports" class="card hidden">
      <h3>My Cleanup Reports 📋</h3>
      <div id="reportList">
        <p>Loading...</p>
      </div>
    </div>    
  </div>

  <script src="secrets/config.js"></script>
  <script src="map.js"></script>
  <script src="app.js"></script>

  <script>
    const script = document.createElement('script');
    script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&libraries=marker&callback=initMap&loading=async`;
    script.async = true;
    script.defer = true;
    document.head.appendChild(script);

    document.getElementById('greeting').textContent = `Hey, ${LOGGED_IN_USERNAME}!`;
  </script>
</body>
</html>